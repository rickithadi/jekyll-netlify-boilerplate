---
layout: post
title: Deploy your notion site on a custom domain ðŸ˜ŽðŸ‘ŒðŸ”¥ðŸš€ðŸ”¥ðŸ‘¨â€ðŸš€
meta_description: " Deploy your notion site on a custom domain of your choice
  and   set up analytics! Use techonologies like cloudflare,cloudflare workers
  and notion. Have a look at Surfskate.io for a live example"
author: hadi_rickit
date: 2022-08-03 08:50:25
intro_paragraph: >-
  Notion is a great tool for keeping track of stuff and organising your life.
  It's marketed as a productivity tool which it sort of is. I've been using it
  as of late for journaling. The functionality, aesthetics and extensibility
  have been very impressive. I especially like the emoji integration ðŸ™†. I talk about how you can extend Notion and use it with a custom domain in this article.



categories: " tech, notion, cloudflare, surfskate, notionlytics, analytics, low code"
---
# TLDR

  1. What's Notion?
  2. Get a domain
  3. Get a notion site
  4. Deploy notion site
  5. Link notion site to custom domain with cloudflare worker

## What is Notion?
  <p align="center">

  <iframe width="100%" height="315" src="https://www.youtube.com/embed/3r0OGNy4NGg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

  </p>


  Notion is a workspace/spreadsheet/database thing. I basically as a replacement to a physical journal, both for work and personal stuff. Given my bad memory it helps me keep track of things and stay accountable. I also built a side project on notion and deployed it. Notion actually works as a pretty handy CMS The video above should give you an idea. I've been loving it but a major drawback I've found is the lack of an officially supported way to deploy your site onto a custom domain. The closest feature available deploys your site with a .notionsite prefix which is not very pretty. There are paid services out there that'll do this for you but I'll be showing you how to do it yourself and for free. Read on to find out more


  <p align="center">

  <img alt="default publish site option on notion" title="deploy options provided by notion" src="
 https://rickithadi.com/assets/img/uploads/2022-08-03_08-44.png
"  style="width:50%; height:20%">

  </p>
## Getting a Domain

There are many ways to do this. I would suggest going with a reputable domain provider, my preference and what I would recommend is to go through [namecheap](https://www.namecheap.com/). They have decent customer service and a pretty simple UI. Just hop on, search for a domain you would like and purchase it

<p align="center">
<img alt="domain search on namecheap" title="an example of varying domain prices" src="https://rickithadi.com/assets/img/uploads/namecheap.png" style="width:50%; height:20%">

</p>

Domain names can range from a few cents to thousands of dollars depending on popularity. It doesn't really matter where you get your domain from as long as you have access to the DNS settings so go with what you are familiar with

## Getting, deploying a Notion Site

Hop onto [notion](https://www.notion.so) and create an account. There are plenty of resources online on how to get set up with notion which i won't go through here. All that matters is your notion site is deployed or "shared to web" as notion terms it. Below is an example of how your's might look. Make sure the share to web toggle button is selected

<p align="center">
<img alt="might look something like this" title="an example of a notion site and share to web option" src="https://rickithadi.com/assets/img/uploads/ssexample.png" style="width:70%; height:20%">

</p>

## Link Notion site to Custom Domain

Now you have a notion site deployed at a domain generated by notion. This might look something like this

> https://surfskate.notion.site/SurfSkate-Things-SG-0ac1b2287a6a486da5ad7cfaf34d17ba

Not the prettiest huh, let's get that fixed. We'll do that by letting cloudflare handle DNS and with a[ cloudflare worker](https://workers.cloudflare.com/).

### 1) Add your domain to Cloudflare

<p align="center">
<img alt="add your domain to cloudflare" title="add your domain to cloudflare" src="https://rickithadi.com/assets/img/uploads/cloudflare.png" style="width:70%; height:20%">

</p>

Add your previously purchased domain to cloudflare and choose a free plan.

### 2) Point your domain registrar's DNS to cloudflare

<p align="center">
<img alt="add your domain to cloudflare" title="add your domain to cloudflare" src="https://rickithadi.com/assets/img/uploads/dns.png" style="width:70%; height:20%"></p>

 Cloudflare should detect your registrar provide the necessary instructions. These are the steps if you use namecheap. It might take a while for the changes to propogate so don't worry if the changes don't immediately reflect

### 4) Set up worker

Go to the workers page and create a service. Proceed with the HTTP handler option

<p align="center">
<img alt="create service" title="create service" src="https://rickithadi.com/assets/img/uploads/service.png" style="width:70%; height:20%"></p>

Now a worker has been created. Select quick edit and paste the script below

<p align="center">
<img alt="create service" title="create service" src="https://rickithadi.com/assets/img/uploads/quickedit.png" style="width:70%; height:20%"></p>

This script is the meat of the solution. It will redirect the traffic through your custom domain. I have it setup for my [notion site surfskate.io](https://surfskate.io) like [this](https://gist.github.com/rickithadi/53351c2cf0dd1a2031833a864a8c7949). Below is the script, be sure to add your own variables (domain name, notion id, etc). The comments should be quite self explanatory, credit to [Vic ShÃ³stak](https://dev.to/koddr).


<div class="iframely-embed"><div class="iframely-responsive" style="padding-bottom: 50%;"><a href="https://gist.github.com/rickithadi/53351c2cf0dd1a2031833a864a8c7949" data-iframely-url="//iframely.net/p3ebAcJ"></a></div></div><script async src="//iframely.net/embed.js"></script>

* Click **Save and Deploy**.
* Go to the **Workers** page and select **Add Route**.
* Place `your-domain.com/*` (or `subdomain.your-domain.com/*`, if you would like to use a subdomain) as the **Route** and select the **Worker** you just created.
* Click **Save** button.
*

### That' all folks

Your notion site url should now be using your custom domain and look pretty. No difference to the content of the notion site. Might not look like a big deal but it's the little things that make a difference ðŸ˜Ž. Here's a side by side

<p align="center">
<img alt="difference" title="pretty domain" src="blob:https://rickithadi.com/assets/img/uploads/difference.png" style="width:70%; height:20%"></p>

 Feel free to drop me a line if you have any questions.
